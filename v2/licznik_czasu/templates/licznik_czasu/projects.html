{% extends "account/base.html" %}

{% block head_title %}Projects{% endblock %}

{% block content %}
{% csrf_token %}
<div class="container h-auto justify-content-center align-items-center d-flex">
{% if user.is_authenticated %}
    <div class="sidebar" style="left:240px; width: 300px; padding-top: 4%; background-color: rgb(133, 133, 133);" style="--bs-bg-opacity: .3;">
        <div class="container d-flex border-bottom border-black">
            <h1>Projekty ({{ projects|length }})</h1>
        </div>
        <div class="list-group list-group-flush overflow-auto mx-3 mt-4">
                {% for project in projects %}
                <a type="button" class="list-group-item list-group-item-action py-1 ripple" style="background-color: transparent;" href="{% url 'view_project' project.id %}">
                    <p class="fw-bold" style="background-color: transparent; font-size: 26px;">
                        {{ project.project_name }}
                    </p>
                    <p class="text-nowrap overflow-hidden text-truncate">
                        Opis Projektu: {{ project.description }}
                    </p>
                </a>
                {% endfor %}
        </div>
    </div>
    <div style="margin-left: 300px; margin-top: 100px;"> 
        <div class="justify-content-center mb-3 mt-5 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="200" height="200" viewBox="0 0 256 256" xml:space="preserve">
            <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: gray; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                <path d="M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 24.813 0 45 20.187 45 45 C 90 69.813 69.813 90 45 90 z M 45 4 C 22.393 4 4 22.393 4 45 s 18.393 41 41 41 s 41 -18.393 41 -41 S 67.607 4 45 4 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: gray; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                <circle cx="30.344" cy="33.274" r="5.864" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: gray; fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                <circle cx="59.663999999999994" cy="33.274" r="5.864" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: gray); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                <path d="M 72.181 65.49 c -0.445 0 -0.893 -0.147 -1.265 -0.451 c -7.296 -5.961 -16.5 -9.244 -25.916 -9.244 c -9.417 0 -18.62 3.283 -25.916 9.244 c -0.854 0.7 -2.115 0.572 -2.814 -0.283 c -0.699 -0.855 -0.572 -2.115 0.283 -2.814 C 24.561 55.398 34.664 51.795 45 51.795 c 10.336 0 20.438 3.604 28.447 10.146 c 0.855 0.699 0.982 1.959 0.283 2.814 C 73.335 65.239 72.76 65.49 72.181 65.49 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: gray; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
            </g>
        </svg>
        </div>
        <div class="justify-content-center text-center">
            <p style="color:gray; font-size: 30px;">Nie wybrano żadnego projektu.</p>
        </div>
    </div>
{% else %}
    <div class="w-auto p-5 d-flex row justify-content-center rounded shadow-lg bg-white" style="--bs-bg-opacity: .3">
        <div class="container h-auto w-auto p-5 d-inline-flex flex-column justify-content-center align-items-center rounded " style="--bs-bg-opacity: .3">
            <p class="fst-italic fs-3">Jesteś obecnie wylogowany</p>
            <br>
            <p class="fs-5"> Aby się zalogować naciśnij przycisk poniżej</p>
            <a type="button" class="btn w-100 mb-3 btn-primary " href="{% url 'account_login' %}">Zaloguj się</a>
            <br>
            <p class="fs-5">Aby stworzyć konto naciśnij przycisk poniżej</p>
            <a type="button" class="btn w-100 btn-primary " href="{% url 'account_signup' %}">Zarejestruj się</a>
        </div>
    </div>
{% endif %}
</div>
{% endblock %}